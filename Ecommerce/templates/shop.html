{% load static %}
<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Cartify</title>
    <link rel="stylesheet" href="{% static 'css/shop.css' %}" />
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css"
    />
  </head>
  <body>
    <header class="header">
      <div class="logo">
        <img src="{% static 'images/logo.png' %}" alt="Lojfggo" />
      </div>

      <div class="navi">
        <nav class="nav-links">
          <a href="">Shop</a>
          <a href="">Cart</a>
          <a href="">Orders</a>
          <a href="">Hi, {{ request.session.uname }}</a>
        </nav>
      </div>
    </header>

    <main class="main-content">
      <center>
        <h1>Welcome to Our Ecommerce Store</h1>
        <p>Explore the best products at the best prices!</p>
      </center>

      <div class="products">
        {% for product in objs %}
        <div class="product-card">
          <a href="{% url 'product' product.pid %}" class="product-link">
            <img src="{{ product.photo.url }}" alt="{{ product.pname }}" />
            <h3 class="product-name">{{ product.pname }}</h3>
          </a>
          <p class="price">â‚¹ {{ product.price }}</p>
          <div class="product-actions">
            <button
              type="button"
              class="btn btn-cart"
              data-id="{{ product.pid }}"
            >
              Add to Cart
            </button>
            <a href="{% url 'place_order' product.pid %}" class="btn btn-buy">
              Buy Now
            </a>
          </div>
        </div>
        {% empty %}
        <p>No products available</p>
        {% endfor %}
      </div>

      <div class="pagination">
        {% if objs.has_previous %}
        <a href="?page={{ objs.previous_page_number }}">Previous</a>
        {% endif %}

        <span>{{ objs.number }}</span>

        {% if objs.has_next %}
        <a href="?page={{ objs.next_page_number }}">Next</a>
        {% endif %}
      </div>
    </main>

    <footer class="footer">
      <div class="i1">
        <p>&copy; 2025 Ecommerce. All rights reserved.</p>
      </div>

      <div class="social-links">
        <a href="https://github.com/" target="_blank">
          <i class="fab fa-github"></i>
        </a>

        <a href="https://www.linkedin.com/" target="_blank">
          <i class="fab fa-linkedin"></i>
        </a>
      </div>
    </footer>

    <script src="{% static 'js/add_to_cart.js' %}"></script>
  </body>
</html>
